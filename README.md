# ุจูุช ChatGPTPlus2FABot - ุฏููู ุงูุชุดุบูู ูุงูุฅุฏุงุฑุฉ

## ููุฏูุฉ

ูุฐุง ุงูุจูุช ูุตูู ููุณุงุนุฏุชู ูู ุฅุฏุงุฑุฉ ููุดุงุฑูุฉ ุฑููุฒ ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ (2FA) ุงููุณุชูุฏุฉ ุฅูู TOTP (Time-based One-Time Password) ุจุดูู ุขูู ูููุธู ุฏุงุฎู ูุฌููุนุงุช ุชูููุฌุฑุงู.

**ููุงุญุธุฉ ูุงูุฉ:** ุจุณุจุจ ุงููููุฏ ุงูุชูููุฉ ุงูุญุงููุฉ ูู ุจูุฆุฉ ุงูุชุดุบููุ ูุง ูููู ููุฐุง ุงูุจูุช ุฅุฑุณุงู ุงูุฑุณุงุฆู ุจุดูู ุฏูุฑู ูุชููุงุฆู ุฅูู ุงููุฌููุนุงุช (ูุซู ูู 10 ุฏูุงุฆู). ูุชู ุฅุฑุณุงู ุงูุฑูุฒ ููุท ุนูุฏูุง ูุถุบุท ุงููุณุชุฎุฏู ุนูู ุฒุฑ "Copy Code" ูู ุฑุณุงูุฉ ุฎุงุตุฉ. ุงููุนูููุงุช ุงููุชุนููุฉ ุจู "ุงูููุช ุงูุชุงูู" ูู ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ูููุฌููุนุฉ ูู ููุนุฑุถ ููุท ููุง ุชุนูุณ ุฅุฑุณุงูุงู ุชููุงุฆูุงู ูุฌุฏููุงู.

## ูุญุชููุงุช ุงููุดุฑูุน

ูุญุชูู ุงููุฌูุฏ ุงููุถุบูุท ุนูู ุงููููุงุช ูุงููุฌูุฏุงุช ุงูุชุงููุฉ:

*   `bot.py`: ุงูููู ุงูุฑุฆูุณู ุงูุฐู ูุญุชูู ุนูู ุงูููุฏ ุงูุจุฑูุฌู ููุจูุช.
*   `data/`: ูุฌูุฏ ูุญุชูู ุนูู ูููุงุช ุงูุจูุงูุงุช ุงูุชู ูุฎุฒู ูููุง ุงูุจูุช ุงูุฅุนุฏุงุฏุงุช ูุงููุนูููุงุช:
    *   `admins.json`: ูุงุฆูุฉ ุจูุนุฑูุงุช ุงููุณุชุฎุฏููู ุงููุณุคูููู.
    *   `groups.json`: ุจูุงูุงุช ุงููุฌููุนุงุช ุงููุฏุงุฑุฉ (ุงููุนุฑูุ ุงูููุชุงุญ ุงูุณุฑูุ ุฅุนุฏุงุฏุงุชุ ูุนุฑู ุงูุฑุณุงูุฉ).
    *   `attempts.json`: ุจูุงูุงุช ูุญุงููุงุช ุงููุณุชุฎุฏููู (ุงููุนุฑูุ ุงูุงุณูุ ุงููุญุงููุงุช ุงููุชุจููุฉุ ุชุงุฑูุฎ ุขุฎุฑ ุฅุนุงุฏุฉ ุชุนูููุ ุญุงูุฉ ุงูุญุธุฑ).
    *   `settings.json`: ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ ููุจูุช (ุนุฏุฏ ุงููุญุงููุงุช ุงูุงูุชุฑุงุถูุ ุฅูุฎ).
    *   `bot_persistence.pickle`: ููู ุชุณุชุฎุฏูู ููุชุจุฉ `python-telegram-bot` ูุญูุธ ุญุงูุฉ ุงููุญุงุฏุซุงุช (ูุชู ุฅูุดุงุคู ุชููุงุฆูุงู).
*   `README.md`: ูุฐุง ุงูููู (ุฏููู ุงูุชุดุบูู).
*   `todo.md`: ูุงุฆูุฉ ุงูููุงู ุงูุชู ุชู ุงุชุจุงุนูุง ูุฅูุดุงุก ุงูุจูุช.

## ุงููุชุทูุจุงุช

*   Python 3.7 ุฃู ุฃุญุฏุซ.
*   ุงูููุชุจุงุช ุงูุชุงููุฉ (ูุชู ุชุซุจูุชูุง ุชููุงุฆูุงู ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ):
    *   `python-telegram-bot==13.15` (ููุชุนุงูู ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุชูููุฌุฑุงู)
    *   `pyotp` (ูุชูููุฏ ุฑููุฒ TOTP)
    *   `pytz` (ููุชุนุงูู ูุน ุงูููุงุทู ุงูุฒูููุฉ)

## ุงูุฅุนุฏุงุฏ ุงูุฃููู

1.  **ุงุณุชุฎุฑุงุฌ ุงููููุงุช:** ูู ุจูู ุถุบุท ุงูููู `ChatGPTPlus2FABot.zip` ูู ุงููุณุงุฑ ุงูุฐู ุชุฑุบุจ ุจุชุดุบูู ุงูุจูุช ููู (ูุซูุงูุ `/home/ec2-user/projects/ChatGPTPlus2FABot` ููุง ุทูุจุช).
2.  **ุงูุชููู ูุงููุนุฑู:**
    *   ุงูุชุญ ููู `bot.py` ุจุงุณุชุฎุฏุงู ูุญุฑุฑ ูุตูุต.
    *   ุงุจุญุซ ุนู ุงูุณุทุฑ `TOKEN = "8119053401:AAHuqgTkiq6M8rT9VSHYEnIl96BHt9lXIZM"` ูุงุณุชุจุฏู ุงูุชููู ุจุงูุชููู ุงููุนูู ุงูุฎุงุต ุจุจูุชู ุงูุฐู ุญุตูุช ุนููู ูู BotFather.
    *   ุงุจุญุซ ุนู ุงูุณุทุฑ `ADMIN_ID = 764559466` ูุชุฃูุฏ ูู ุฃู ูุฐุง ูู ูุนุฑู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู (User ID) ููููู ุงููุณุคูู ุงูุฃููู. ููููู ุงูุญุตูู ุนูู ูุนุฑู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู ูู ุจูุชุงุช ูุซู `@userinfobot`.
3.  **ุฅูุดุงุก ูุฌูุฏ ุงูุจูุงูุงุช (ุฅุฐุง ูู ูุชู ุฅูุดุงุคู):** ุชุฃูุฏ ูู ูุฌูุฏ ูุฌูุฏ `data` ุฏุงุฎู ูุฌูุฏ ุงููุดุฑูุน. ุงูููุฏ ุณูููู ุจุฅูุดุงุฆู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุชุดุบูู ุฅุฐุง ูู ููู ููุฌูุฏุงู.

## ุงูุชุดุบูู

1.  **ุงูุชุญ ุงูุทุฑููุฉ (Terminal):** ุงูุชูู ุฅูู ูุฌูุฏ ุงููุดุฑูุน ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ `cd`.
    ```bash
    cd /path/to/your/ChatGPTPlus2FABot
    ```
2.  **ุชุซุจูุช ุงูููุชุจุงุช (ุฅุฐุง ูุฒู ุงูุฃูุฑ):** ูู ุจุชุดุบูู ุงูุฃูุฑ ุงูุชุงูู ูุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ:
    ```bash
    pip3 install python-telegram-bot==13.15 pyotp pytz
    ```
3.  **ุชุดุบูู ุงูุจูุช:** ูู ุจุชุดุบูู ุงูุจูุช ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ:
    ```bash
    python3 bot.py
    ```

ููุถู ุชุดุบูู ุงูุจูุช ูู ุงูุฎูููุฉ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุซู `screen` ุฃู `tmux` ุฃู ูุฎุฏูุฉ `systemd` ูุถูุงู ุงุณุชูุฑุงุฑูุฉ ุนููู ุญุชู ุจุนุฏ ุฅุบูุงู ุงูุทุฑููุฉ.

ูุซุงู ุจุงุณุชุฎุฏุงู `screen`:
```bash
screen -S 2fa_bot # ุฅูุดุงุก ุฌูุณุฉ ุฌุฏูุฏุฉ ุจุงุณู 2fa_bot
cd /path/to/your/ChatGPTPlus2FABot
python3 bot.py
# ุงุถุบุท Ctrl+A ุซู D ููุฎุฑูุฌ ูู ุงูุฌูุณุฉ ูุน ุฅุจูุงุฆูุง ุชุนูู
# ููุนูุฏุฉ ููุฌูุณุฉ: screen -r 2fa_bot
```

## ุงูุงุณุชุฎุฏุงู ูุงูุฅุฏุงุฑุฉ

*   **ุงูุฃูุฑ ุงูุฑุฆูุณู ูููุณุคูู:** `/admin`
    *   ูุฌุจ ุฃู ุชููู ูุณุคููุงู (ูุนุฑู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู ููุฌูุฏ ูู `data/admins.json`) ูุงุณุชุฎุฏุงู ูุฐุง ุงูุฃูุฑ.
    *   ุณูุคุฏู ูุฐุง ุงูุฃูุฑ ุฅูู ุฅุธูุงุฑ ููุญุฉ ุชุญูู ุจุฃุฒุฑุงุฑ ูุฅุฏุงุฑุฉ ูุธุงุฆู ุงูุจูุช ุงููุฎุชููุฉ.

### ููุญุฉ ุชุญูู ุงููุณุคูู (`/admin`)

1.  **๐ ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช/ุงูุฃุณุฑุงุฑ:**
    *   **โ ุฅุถุงูุฉ ูุฌููุนุฉ ุฌุฏูุฏุฉ:**
        *   ูุทูุจ ููู ุฅุฑุณุงู ูุนุฑู ุงููุฌููุนุฉ (Group ID). ูุฌุจ ุฃู ูุจุฏุฃ ุจู `-`.
        *   ูุทูุจ ููู ุฅุฑุณุงู ุงูููุชุงุญ ุงูุณุฑู TOTP (Base32 encoded).
        *   ุนูุฏ ุงูุฅุถุงูุฉ ุจูุฌุงุญุ ูููู ุงูุจูุช ุจุฅุฑุณุงู ุฑุณุงูุฉ ุงูุฒุฑ "Copy Code" ุฅูู ุงููุฌููุนุฉ ุงููุถุงูุฉ.
    *   **โ๏ธ ุชุนุฏูู/ุญุฐู ูุฌููุนุฉ:**
        *   ูุนุฑุถ ูุงุฆูุฉ ุจุงููุฌููุนุงุช ุงููุถุงูุฉ.
        *   ุนูุฏ ุงุฎุชูุงุฑ ูุฌููุนุฉุ ููููู:
            *   **๐ ุชุนุฏูู ุงูููุชุงุญ ุงูุณุฑู (TOTP):** ูุทูุจ ููู ุฅุฑุณุงู ุงูููุชุงุญ ุงูุฌุฏูุฏ.
            *   **๐๏ธ ุญุฐู ุงููุฌููุนุฉ:** ูุทูุจ ุชุฃููุฏ ุงูุญุฐู. ุณูุญุงูู ุงูุจูุช ุญุฐู ุฑุณุงูุฉ ุงูุฒุฑ ูู ุงููุฌููุนุฉ ูุจู ุญุฐู ุจูุงูุงุชูุง.

2.  **๐ ุฅุฏุงุฑุฉ ูุชุฑุฉ ุงูุชูุฑุงุฑ/ุงูุชูุนูู:**
    *   ูุนุฑุถ ูุงุฆูุฉ ุจุงููุฌููุนุงุช ุงููุถุงูุฉ.
    *   ุนูุฏ ุงุฎุชูุงุฑ ูุฌููุนุฉุ ููููู:
        *   **ุชุบููุฑ ุงููุงุตู ุงูุฒููู (ููุนุฑุถ):** ุงุฎุชุฑ ูู ุงููุชุฑุงุช ุงููุชุงุญุฉ (1 ุฏูููุฉุ 5 ุฏูุงุฆูุ ...). ูุฐุง ูุคุซุฑ ููุท ุนูู ุงููุต ุงููุนุฑูุถ ูู ุฑุณุงูุฉ ุงููุฌููุนุฉ ุญูู "ุงูุชุญุฏูุซ ุงููุชููุน ุงูุชุงูู" ููุง ูุคุซุฑ ุนูู ุงูุฅุฑุณุงู ุงููุนูู.
        *   **๐ข ุชูุนูู / ๐ด ุชุนุทูู ุงููุณุฎ:** ูุชูุนูู ุฃู ุชุนุทูู ุฒุฑ "Copy Code" ููุฐู ุงููุฌููุนุฉ. ุนูุฏ ุงูุชุนุทููุ ุณูุญุงูู ุงูุจูุช ุญุฐู ุฑุณุงูุฉ ุงูุฒุฑ ูู ุงููุฌููุนุฉ.

3.  **๐จ ุฅุฏุงุฑุฉ ุดูู/ุชูููุช ุงูุฑุณุงูุฉ:**
    *   ูุนุฑุถ ูุงุฆูุฉ ุจุงููุฌููุนุงุช ุงููุถุงูุฉ.
    *   ุนูุฏ ุงุฎุชูุงุฑ ูุฌููุนุฉุ ููููู:
        *   **ุชุบููุฑ ุชูุณูู ุงูููุช:** ุงุฎุชุฑ ุจูู ูุธุงู 12 ุณุงุนุฉ ุฃู 24 ุณุงุนุฉ ูุนุฑุถ "ุงูููุช ุงููุชููุน ุงูุชุงูู" ูู ุฑุณุงูุฉ ุงููุฌููุนุฉ.
        *   **ุชุบููุฑ ุงูููุทูุฉ ุงูุฒูููุฉ:** ุงุฎุชุฑ ุงูููุทูุฉ ุงูุฒูููุฉ ุงููุณุชุฎุฏูุฉ ูุนุฑุถ ุงูููุช (ุญุงููุงู Asia/Gaza ู UTC ูุชุงุญุฉุ ูููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูููุฏ).

4.  **๐ฅ ุฅุฏุงุฑุฉ ูุญุงููุงุช ุงููุณุชุฎุฏููู:**
    *   ูุนุฑุถ ูุงุฆูุฉ ุจุงููุณุชุฎุฏููู ุงูุฐูู ุชูุงุนููุง ูุน ุงูุจูุช (ุถุบุทูุง ุนูู ุฒุฑ ุงููุณุฎ).
    *   ูุนุฑุถ ุงุณู ุงููุณุชุฎุฏูุ ูุนุฑููุ ุนุฏุฏ ุงููุญุงููุงุช ุงููุชุจููุฉุ ูุญุงูุฉ ุงูุญุธุฑ (โ/๐ซ).
    *   ุนูุฏ ุงุฎุชูุงุฑ ูุณุชุฎุฏูุ ููููู:
        *   **๐ซ ุญุธุฑ ุงููุณุชุฎุฏู / ๐ ุฅูุบุงุก ุญุธุฑ ุงููุณุชุฎุฏู:** ูููุน ุงููุณุชุฎุฏู ูู ุงูุญุตูู ุนูู ุงูุฑููุฒ ุฃู ุงูุณูุงุญ ูู ูุฑุฉ ุฃุฎุฑู.
        *   **โ ุฅุถุงูุฉ ูุญุงููุงุช:** ูุทูุจ ููู ุฅุฏุฎุงู ุนุฏุฏ ุงููุญุงููุงุช ูุฅุถุงูุชูุง ุฅูู ุฑุตูุฏ ุงููุณุชุฎุฏู ุงูุญุงูู.
        *   **โ ุญุฐู ูุญุงููุงุช:** ูุทูุจ ููู ุฅุฏุฎุงู ุนุฏุฏ ุงููุญุงููุงุช ูุฎุตููุง ูู ุฑุตูุฏ ุงููุณุชุฎุฏู (ูู ููุฒู ุงูุฑุตูุฏ ุชุญุช ุงูุตูุฑ).

5.  **๐ ุฅุฏุงุฑุฉ ุงููุณุคูููู:**
    *   ูุนุฑุถ ูุงุฆูุฉ ุจุงููุณุคูููู ุงูุญุงูููู.
    *   **โ ุฅุถุงูุฉ ูุณุคูู:** ูุทูุจ ููู ุฅุฑุณุงู ูุนุฑู ุงููุณุชุฎุฏู (User ID) ูููุณุคูู ุงูุฌุฏูุฏ.
    *   **โ ุฅุฒุงูุฉ ูุณุคูู:** ูุนุฑุถ ูุงุฆูุฉ ุจุงููุณุคูููู ุงูุญุงูููู (ุจุงุณุชุซูุงุก ููุณู ุฑุจูุง) ูุชุฎุชุงุฑ ูููู ูู ุชุฑูุฏ ุฅุฒุงูุชู. ูุง ูููู ุฅุฒุงูุฉ ุงููุณุคูู ุงููุญูุฏ.

6.  **โ ุฅุบูุงู:** ูุฅุบูุงู ููุญุฉ ุงูุชุญูู.

### ุงุณุชุฎุฏุงู ุงููุณุชุฎุฏู ุงูุนุงุฏู

*   ูููู ูุฃู ุนุถู ูู ูุฌููุนุฉ ูุถุงูุฉ ูููุนูุฉ ุงูุถุบุท ุนูู ุฒุฑ "๐ฒ ูุณุฎ ุงูุฑูุฒ (Copy Code)".
*   ุณูููู ุงูุจูุช ุจุงูุชุญูู ูู:
    *   ูู ุงููุฌููุนุฉ ููุนูุฉุ
    *   ูู ุงููุณุชุฎุฏู ูุญุธูุฑุ
    *   ูู ูุฏู ุงููุณุชุฎุฏู ูุญุงููุงุช ูุชุจููุฉ ููุฐุง ุงููููุ (ุงููุญุงููุงุช ุชุชุฌุฏุฏ ุชููุงุฆูุงู ุนูุฏ ุฃูู ุงุณุชุฎุฏุงู ุจุนุฏ ููุชุตู ุงูููู ุญุณุจ ุงูููุทูุฉ ุงูุฒูููุฉ ุงูุงูุชุฑุงุถูุฉ ููุจูุช).
*   ุฅุฐุง ูุงูุช ุงูุดุฑูุท ูุชุญููุฉ:
    *   ูููุฏ ุงูุจูุช ุฑูุฒ 2FA ุฌุฏูุฏ ุจุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุณุฑู ูููุฌููุนุฉ.
    *   ูุฑุณู ุงูุฑูุฒ ูู ุฑุณุงูุฉ ุฎุงุตุฉ ูููุณุชุฎุฏูุ ูุน ุฐูุฑ ุตูุงุญูุฉ ุงูุฑูุฒ (30 ุซุงููุฉ) ูุนุฏุฏ ุงููุญุงููุงุช ุงููุชุจููุฉ.
    *   ูุฎุตู ูุญุงููุฉ ูุงุญุฏุฉ ูู ุฑุตูุฏ ุงููุณุชุฎุฏู.
    *   ูุฏ ูุฑุณู ุฅุดุนุงุฑุงู ูููุณุคูููู (ุฅุฐุง ุชู ุชูุนูู ุงูุฎูุงุฑ ูู `settings.json` - ุญุงููุงู ุบูุฑ ููุนู).
*   ุฅุฐุง ูู ุชูู ุงูุดุฑูุท ูุชุญููุฉ (ููุงุฏ ุงููุญุงููุงุชุ ูุญุธูุฑุ ุงููุฌููุนุฉ ูุนุทูุฉ)ุ ูุชููู ุงููุณุชุฎุฏู ุฑุณุงูุฉ ุชูุจูู ููุงุณุจุฉ.

## ููุงุญุธุงุช ุฅุถุงููุฉ

*   **ุงูุฃูุงู:** ุชุฃูุฏ ูู ุญูุงูุฉ ููู ุงูุชููู (`TOKEN` ูู `bot.py`) ููููุงุช ุงูุจูุงูุงุช ูู ูุฌูุฏ `data`. ูุง ุชุดุงุฑู ุงูููุงุชูุญ ุงูุณุฑูุฉ (TOTP Secrets) ุฅูุง ูุน ูู ุชุซู ุจูู.
*   **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ููุฌูุฏ `data` ุจุดูู ุฏูุฑู ููุญูุงุธ ุนูู ุฅุนุฏุงุฏุงุชู ูุจูุงูุงุช ุงููุณุชุฎุฏููู.
*   **ุงูุฃุฎุทุงุก:** ููุถู ูุฑุงูุจุฉ ุณุฌูุงุช ุงูุจูุช (ุงูุชู ุชุธูุฑ ูู ุงูุทุฑููุฉ ุนูุฏ ุชุดุบููู) ููุนุฑูุฉ ุฃู ุฃุฎุทุงุก ูุฏ ุชุญุฏุซ.

ูุชููู ุฃู ูููู ูุฐุง ุงูุจูุช ูููุฏุงู ูู!

